
@{
    ViewBag.Title = "CreateAjax";
}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/jquery-ui.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/i18n/jquery.ui.datepicker-ja.min.js"></script>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1/themes/black-tie/jquery-ui.css">

<h2>CreateAjax</h2>

<!-- 社員検索ダイアログ start -->
<div id="dialog">
    <label for="SearchString">Search : </label>
    @Html.TextBox("SearchString")
    <button type="button" onclick="getEmployees()" class="">Search</button>
    <br />
    <br />
    <div id="result"></div>
</div>
<!-- 社員検索ダイアログ End -->

<button type="button" id="opener" class="btn btn-primary">社員検索</button>

<script type="text/javascript">

    $(function () {
        $("#Birthday").datepicker({
            //changeMonth: true,
            //changeYear: true,
            //yearRange: "-150:+0"
        });            
    });

    $("#dialog").dialog({
        autoOpen: false,
        modal: true,
        title: "社員選択ダイアログ",
        height: 600,
        width: 900,
        buttons: {
            Cancel: function () {
                $(this).dialog("close");
            }
        }
    });

    $("#opener").click(function () {
        var str = document.getElementById("SearchString").value;
        $("#result").load('/Employees/AjaxSearch/' + str);
        $("#dialog").dialog("open");
        
    });

    $(".select-employee").click(function () {
        alert("test");
    });

    function getEmployees() {
        var str = document.getElementById("SearchString").value;
        $("#result").load('/Employees/AjaxSearch/' + str);
    }

</script>
